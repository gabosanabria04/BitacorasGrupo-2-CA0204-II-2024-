<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Paola Espinoza Hernández; Gabriel Sanabria Alvarado">

<title>Trabajo final</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="trabajo_final_grupo_#2_files/libs/clipboard/clipboard.min.js"></script>
<script src="trabajo_final_grupo_#2_files/libs/quarto-html/quarto.js"></script>
<script src="trabajo_final_grupo_#2_files/libs/quarto-html/popper.min.js"></script>
<script src="trabajo_final_grupo_#2_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="trabajo_final_grupo_#2_files/libs/quarto-html/anchor.min.js"></script>
<link href="trabajo_final_grupo_#2_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="trabajo_final_grupo_#2_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="trabajo_final_grupo_#2_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="trabajo_final_grupo_#2_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="trabajo_final_grupo_#2_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="trabajo_final_grupo_-2.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Trabajo final</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Paola Espinoza Hernández; Gabriel Sanabria Alvarado </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="energía-del-futuro-análisis-global-de-tendencias-e-indicadores-en-energías-renovables" class="level2">
<h2 class="anchored" data-anchor-id="energía-del-futuro-análisis-global-de-tendencias-e-indicadores-en-energías-renovables">Energía del Futuro: Análisis Global de Tendencias e Indicadores en Energías Renovables</h2>
</section>
<section id="resumen" class="level2">
<h2 class="anchored" data-anchor-id="resumen">Resumen:</h2>
<p>Las energías renovables representan una solución clave para amortiguar el impacto del cambio climático y promover un desarrollo socioeconómico sostenible. Este estudio estudia el impacto de estas energías en distintos países, buscando su relación con distintos indicadores de desarrollo y bienestar social. Para ello, se utilizaron datos de una base internacional que abarca el período 2000-2023, con información de países como Australia, Brasil, Canadá, China, Francia, Alemania, India, Japón, Rusia y Estados Unidos. Las variables incluyen la producción y consumo de energías renovables, el PIB, la autosuficiencia energética y la reducción de emisiones de CO2, además de contener factores ambientales y socioeconómicos. Mediante modelos estadísticos descriptivos y comparativos, se analizó cómo el uso de energías renovables afecta la economía y el bienestar de los países. Los resultados indican que aquellos con mayor adopción de energías renovables han logrado una disminución de emisiones contaminantes, una mejora en su seguridad energética y un incremento en el bienestar socioeconómico. Igualmente, se identificaron beneficios adicionales, como el desarrollo de empleo y la disminución de la pobreza energética. No obstante, se muestran diferencias entre las que destacan los altos costos iniciales de implementación y las limitaciones tecnológicas, que afectan especialmente a las regiones en desarrollo. Se concluyó que las energías renovables son fundamentales para construir un futuro más equitativo y sostenible, pero para maximizar su aprovechamiento requiere políticas inclusivas y una mayor inversión en investigación tecnológica que mejore su expansión y accesibilidad.</p>
</section>
<section id="palabras-clave" class="level2">
<h2 class="anchored" data-anchor-id="palabras-clave">Palabras Clave:</h2>
<ul>
<li><p><strong>Energía Renovable.</strong></p></li>
<li><p><strong>Ambiental.</strong></p></li>
<li><p><strong>Socioeconómico.</strong></p></li>
<li><p><strong>Impacto medioambiental</strong></p></li>
<li><p><strong>Energías limpias</strong></p></li>
</ul>
</section>
<section id="introducción" class="level2">
<h2 class="anchored" data-anchor-id="introducción">Introducción:</h2>
<p>La energía renovable representa un tema común en el contexto actual, debido al aumento en la conciencia general en temas del medio ambiente. La producción de energía renovable ha aumentado en los últimos años; sin mebargo, poco se habla del impacto que estas energías tienen, tanto sobre el medioambiente, como sobre la sociedad.</p>
<p>Por ello, esta investigación desea analizar los cambios en indicadores sociales de acuerdo a variables relacionadas con el medio ambiente, con el fin de concluir una relación entre las energías renovables y el bienestar de la sociedad. Así, se toman en cuenta las emisiones de CO2, los precios de la energía, el gasto en investigación, la inversión, las importaciones y exportaciones de energía, las patentes para energía renovable, la cantidad de trabajos, la conciencia pública sobre el tema de energías renovables, y la existencia o no de políticas gubernamentales y programas educativos al respecto.</p>
<p>La presente investigación tiene por finalidad analizar los cambios ambientales y socioeconómicos que genera la implementación de la energía renovable en los países, estudiando variables como distintos años y países con el fin de realizar distintas comparaciones, así como también las distintas energías renovables, como lo son la energía olar, geotérmica, biomasa, eólica e hidroeléctrica, para combinarlos con la producción, la capacidad instalada y la emisión de CO2.</p>
<p>La relevancia de esta investigación es tanto académica como social. Su desarrollo es de vital importancia para la comprensión de la vinculación de la instauración de la energía renovable y los cambios ecológicos y socioeconómicos, mostrando en que magnitud afecta su implementación dependiendo de los diferentes países incluyendo las regiones desarrolladas y las vías de desarrollo. Con la presente investigación se busca mostrar que el establecimiento suele afectar de forma positiva las áreas mencionadas anteriormente.</p>
<p>El objetivo principal de esta investigación es evaluar cómo la energía renovable impacta en el bienestar social y en el desarrollo económico de los países, además de explorar su capacidad para promover la equidad. A través de un análisis comparativo de datos y un enfoque interdisciplinario, se espera descubrir cómo diferentes factores, como la inversión en tecnología y políticas públicas, potencian o limitan este impacto.</p>
<p>La estructura del trabajo consiste de las siguientes secciones: la primera se basa en la revisión de literatura sobre los beneficios y desafíos de las energías renovables; la segunda detalla la metodología empleada en el análisis de datos; la tercera muestra resultados obtenidos; y, finalmente, la última sección discute las conclusiones y recomendaciones para la política y la investigación futura. Con ello, el estudio busca captar la atención del lector e incentivar a una reflexión profunda sobre el potencial de las energías renovables en la construcción de un futuro sostenible y socialmente justo.</p>
</section>
<section id="metodología" class="level2">
<h2 class="anchored" data-anchor-id="metodología">Metodología</h2>
<ul>
<li><strong>Detalle de los datos:</strong> La tabla incluye datos de países y años para comparar la producción, emisión de CO2 y capacidad instalada de fuentes de energía solar, geotérmica, biomasa, eólica e hidroeléctrica, considerando también alianzas público-privadas y cooperación regional para entender mejor el impacto de la inversión. en el sector. La población se utiliza para analizar el PIB y el consumo energético, y la autosuficiencia energética se examina mediante importaciones y exportaciones. Se incluyen variables de recursos naturales, como temperatura promedio, precipitación, irradiación solar, velocidad del viento, biomasa disponible, potencial hídrico y geotérmico, junto con desastres naturales, capacidad de almacenamiento y liberalización de mercado. Para el impacto social, se analizan precios de electricidad, subsidios, conciencia pública, urbanización, educación, programas de formación sobre energía renovable, percepción de corrupción y calidad regulatoria. El rol del gobierno se revisa en políticas públicas, programas de eficiencia energética, objetivos en renovables, acuerdos energéticos, tarifas, incentivos a la exportación, e inversión en I+D, además de la cantidad de instituciones, innovación, conferencias y publicaciones en el sector. Se incluye también la estabilidad política, libertad económica y facilidad para hacer negocios, y se investigan las tendencias en la fuerza laboral en energías renovables.</li>
<li><strong>Método A:</strong> Análisis gráfico mediante gráficos de dispersión, barras y densidad.</li>
<li><strong>Método B:</strong> Comparaciones varias<br>
</li>
<li><strong>Diagnóstico del modelo:</strong> Se reordenó la base de datos según categorías relevantes a la investigación y se anualizaron los datos, consolidando las columnas por país, año y tipo de energía. Para facilitar su carga, la ruta de acceso parte desde la carpeta del repositorio, permitiendo acceder a la base de datos al clonar el repositorio. Además, se unificaron las variables de importación y exportación de energía en una sola variable, Energy.Flow , clasificada en Energy.Flow.Type como importación o exportación.</li>
</ul>
</section>
<section id="resultados" class="level2">
<h2 class="anchored" data-anchor-id="resultados">Resultados:</h2>
<p><img src="producción_emisiones.jpg" class="img-fluid" alt="Fig. 1. Emisiones de CO2 por rango de producción energética">{#fig.1 width = 100%} Al analizar las emisiones de CO2 por rango de producción energética, se observa que, a partir de los 350000 GWh, la distribución de emisiones de CO2 comienza a dispersarse, lo cual sugiere diferencias en los datos. Además, la media de emisiones se desplaza notablemente al alcanzar los 400,000 GWh, rango en el cual se posiciona a la izquierda del rango anterior por primera vez. Por último, en el rango superior a los 450,000 GWh, la distribución de las emisiones es equitativa, mostrando una proporción balanceada entre valores altos y bajos de CO2, lo que sugiere una relación compleja entre la producción y las emisiones de CO2 en diferentes niveles de producción.</p>
<p>Debido a que la <span class="citation" data-cites="fig.1">(<a href="#ref-fig.1" role="doc-biblioref"><strong>fig.1?</strong></a>)</span> sugiere diferencias entre los datos analizados, se decide separarlos e acuerdo a otra variable: el tipo de energía.</p>
<p><img src="producción_emisiones_tipo_energía.jpg" class="img-fluid" alt="Fig. 2. Producción y Emisiones de CO2 según tipo de energía">{width = 100%}</p>
</section>
<section id="conclusiones" class="level2">
<h2 class="anchored" data-anchor-id="conclusiones">Conclusiones</h2>
<ul>
<li><p><strong>Impacto de las energías renovables en las emisiones de CO2:</strong> El análisis de Attanayake y otros estudios respaldan que el incremento en energías renovables tiende a disminuir las emisiones de carbono, especialmente en economías desarrolladas. Sin embargo, los patrones observados en Japón y Francia demuestran que la relación puede ser compleja, influenciada por factores nacionales específicos que requieren un análisis más detallado para entender por qué la producción energética en estos casos no reduce, sino aumenta, las emisiones.</p></li>
<li><p><strong>Relación directa entre la producción de energías renovables y las emisiones de CO2:</strong> En cuanto al impacto ambiental, se encontraron patrones similares entre los diversos tipos de energía renovable, excepto para la energía eólica. La relación directa entre la producción de energías renovables y las emisiones de CO2 pueden explicarse por la dificultad de la transición desde fuentes tradicionales a fuentes renovables, junto a las emisiones indirectas relacionadas a dicho proceso.</p></li>
<li><p><strong>Impacto Económico:</strong> Los precios de la electricidad, en general, tienden a concentrarse alrededor de 0,3. También se observa que una mayor producción de energías renovables contribuye a estabilizarlos en ese rango. Además, la existencia de políticas gubernamentales parece favorecer una mayor concentración de precios en niveles cercanos a 0,3.</p></li>
<li><p><strong>Impacto social y conciencia pública:</strong> Aunque la segmentación por años permite observar los cambios en la conciencia pública global a lo largo del tiempo y evidenciar su aumento, resulta interesante analizar si los programas educativos contribuyen realmente a este crecimiento. De esta manera, es posible determinar que la conciencia pública, tanto en términos generales como por segmentos de edad, se ve impulsada por la presencia de programas educativos.</p></li>
</ul>
</section>
<section id="agradecimientos" class="level2">
<h2 class="anchored" data-anchor-id="agradecimientos">Agradecimientos</h2>
<p>Se debe realizar un agradecimiento especial a los compañeros del curso, los cuales realizaron una retroalimentación en cada bitácora del proyecto, comentando los aspectos positivos y los aspectos por mejorar de nuestra investigación. Además agradecer al profesor Maikol Solís por estar presente en cada sección del proyecto, además de brindar apoyo en las clases y horas de consulta, recomendando páginas web útiles para una correcta elaboración del proyecto.</p>
</section>
<section id="referencias" class="level2 unnumbered">


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">Referencias</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-ACKERMANN2000315" class="csl-entry" role="listitem">
Ackermann, Thomas, and Lennart Söder. 2000. <span>“Wind Energy Technology and Current Status: A Review.”</span> <em>Renewable and Sustainable Energy Reviews</em> 4 (4): 315–74. https://doi.org/<a href="https://doi.org/10.1016/S1364-0321(00)00004-6">https://doi.org/10.1016/S1364-0321(00)00004-6</a>.
</div>
<div id="ref-doi:10.1080/14615517.2012.660356" class="csl-entry" role="listitem">
Ana Maria Esteves, Daniel Franks, and Frank Vanclay. 2012. <span>“Social Impact Assessment: The State of the Art.”</span> <em>Impact Assessment and Project Appraisal</em> 30 (1): 34–42. <a href="https://doi.org/10.1080/14615517.2012.660356">https://doi.org/10.1080/14615517.2012.660356</a>.
</div>
<div id="ref-Analistas_2014" class="csl-entry" role="listitem">
Analistas, Abay. 2014. <em>El Impacto de Las Energías Renovables En Los Hogares</em>. Greenpeace. <a href="https://archivo-es.greenpeace.org/espana/Global/espana/2014/Report/cambio-climatico/Informe%20ER%20Hogares.pdf">https://archivo-es.greenpeace.org/espana/Global/espana/2014/Report/cambio-climatico/Informe%20ER%20Hogares.pdf</a>.
</div>
<div id="ref-Attanayake_Wickramage_Samarasinghe_Ranmini_Ehalapitiya_Jayathilaka_Yapa_2024" class="csl-entry" role="listitem">
Attanayake, Keshani, Isuru Wickramage, Udul Samarasinghe, Yasangi Ranmini, Sandali Ehalapitiya, Ruwan Jayathilaka, and Shanta Yapa. 2024. <span>“Renewable Energy as a Solution to Climate Change: Insights from a Comprehensive Study Across Nations.”</span> <em>Plos One</em> 19 (6). <a href="https://doi.org/10.1371/journal.pone.0299807">https://doi.org/10.1371/journal.pone.0299807</a>.
</div>
<div id="ref-BatainehMohammadJamal2023Tstr" class="csl-entry" role="listitem">
Bataineh, Mohammad Jamal, Carmen Marcuello, and Pedro Sánchez-Sellero. 2023. <span>“Toward Sustainability: The Role of Social Entrepreneurship in Creating Social-Economic Value in Renewable Energy Social Enterprises.”</span> <em>Revesco : Revista de Estudios Cooperativos</em> 143: e85561.
</div>
<div id="ref-CaraballoPouMaríaÁngeles2017Eryd" class="csl-entry" role="listitem">
Caraballo Pou, María Ángeles, and Juana María García Simón. 2017. <span>“Energías Renovables y Desarrollo Económico. Un Análisis Para España y Las Grandes Economías Europeas.”</span> <em>Trimestre Económico</em> 84 (335): 571–609.
</div>
<div id="ref-CasamitjanaCausaMaria2017Er" class="csl-entry" role="listitem">
Casamitjana Causa, Maria. 2017. <span>“Energías Renovables.”</span> <em>Revista CINTEX</em> 22 (1): 7–9.
</div>
<div id="ref-CasólaLaura2018Enec" class="csl-entry" role="listitem">
Casóla, Laura, and Alexander Freier. 2018. <span>“El Nexo Entre Cambio Climático y Energía Renovable En El Mercosur. Un Análisis Comparativo de Las Legislaciones de Argentina y Brasil.”</span> <em>Revista Derecho Del Estado</em> 40 (40): 153–79.
</div>
<div id="ref-Gutiérrez_2015" class="csl-entry" role="listitem">
Gutiérrez, Allan Ricardo Cordero. 2015. <em>Análisis de Viabilidad Ambiental Del Uso de Energías Renovables En Costa Rica: Estudio de Caso de La Energía Eólica, La Hidroeléctrica y La Geotérmica</em>. Academia.edu. <a href="https://www.academia.edu/21058385/An%C3%A1lisis_de_Viabilidad_Ambiental_del_Uso_de_Energ%C3%ADas_Renovables_en_Costa_Rica_Estudio_de_Caso_de_la_Energ%C3%ADa_E%C3%B3lica_la_Hidroel%C3%A9ctrica_y_la_Geot%C3%A9rmica">https://www.academia.edu/21058385/An%C3%A1lisis_de_Viabilidad_Ambiental_del_Uso_de_Energ%C3%ADas_Renovables_en_Costa_Rica_Estudio_de_Caso_de_la_Energ%C3%ADa_E%C3%B3lica_la_Hidroel%C3%A9ctrica_y_la_Geot%C3%A9rmica</a>.
</div>
<div id="ref-JuanCarlosVegaDeKuyper2014Fder" class="csl-entry" role="listitem">
Kuyper, Juan Carlos Vega De. 2014. <span>“Fuentes de Energía Renovables y No Renovables. Aplicaciones.”</span> <em>Revista Escuela de Administración de Negocios</em>, no. 77: 216–18.
</div>
<div id="ref-Lebedys_Akande_Elhassan_Escamilla_Whiteman_Arkhipova_2021" class="csl-entry" role="listitem">
Lebedys, Arvydas, Dennis Akande, Nazik Elhassan, Gerardo Escamilla, Adrian Whiteman, and Iana Arkhipova. 2021. <em>Renewable Energy Statistics 2021</em>. Abu Dhabi: The International Renewable Energy Agency. <a href="https://www.irena.org/publications/2021/Aug/Renewable-energy-statistics-2021">https://www.irena.org/publications/2021/Aug/Renewable-energy-statistics-2021</a>.
</div>
<div id="ref-Nations" class="csl-entry" role="listitem">
Nations, United. n.d. <span>“What Is Renewable Energy?”</span> <a href="https://www.un.org/en/climatechange/what-is-renewable-energy">https://www.un.org/en/climatechange/what-is-renewable-energy</a>.
</div>
<div id="ref-RequejoLiberalJuan2012Er:u" class="csl-entry" role="listitem">
Requejo Liberal, Juan. 2012. <span>“Energía Renovable : Un Nuevo Principio de Autosuficiencia Conectada.”</span>
</div>
<div id="ref-SerranoJavier2022Hufc" class="csl-entry" role="listitem">
Serrano, Javier. 2022. <span>“Hacia Un Futuro Con Energía Limpia y Renovable.”</span> <em>Actualidad Economica (Madrid, Spain)</em>. Madrid: Unidad Editorial Revistas, S.L.U.
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>